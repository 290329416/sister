<extend name="Public:header" />
<block name='head'>
<head>
	<meta charset="utf-8" />
	<title>添加用户</title>

	<meta name="description" content="Common form elements and layouts" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<!-- basic styles -->

	<link href="__PUBLIC__/assets/css/bootstrap.min.css" rel="stylesheet" />
	<link rel="stylesheet" href="__PUBLIC__/assets/css/font-awesome.min.css" />

	<!--[if IE 7]>
	  <link rel="stylesheet" href="__PUBLIC__/assets/css/font-awesome-ie7.min.css" />
	<![endif]-->

	<!-- page specific plugin styles -->

	<link rel="stylesheet" href="__PUBLIC__/assets/css/jquery-ui-1.10.3.custom.min.css" />
	<link rel="stylesheet" href="__PUBLIC__/assets/css/chosen.css" />
	<link rel="stylesheet" href="__PUBLIC__/assets/css/datepicker.css" />
	<link rel="stylesheet" href="__PUBLIC__/assets/css/bootstrap-timepicker.css" />
	<link rel="stylesheet" href="__PUBLIC__/assets/css/daterangepicker.css" />
	<link rel="stylesheet" href="__PUBLIC__/assets/css/colorpicker.css" />

	<!-- fonts -->

	<link rel="stylesheet" href="__PUBLIC__/assets/css/ace-fonts.css" />

	<!-- ace styles -->

	<link rel="stylesheet" href="__PUBLIC__/assets/css/ace.min.css" />
	<link rel="stylesheet" href="__PUBLIC__/assets/css/ace-rtl.min.css" />
	<link rel="stylesheet" href="__PUBLIC__/assets/css/ace-skins.min.css" />

	<!--[if lte IE 8]>
	  <link rel="stylesheet" href="__PUBLIC__/assets/css/ace-ie.min.css" />
	<![endif]-->

	<!-- inline styles related to this page -->

	<!-- ace settings handler -->

	<script src="__PUBLIC__/assets/js/ace-extra.min.js"></script>

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->

	<!--[if lt IE 9]>
	<script src="__PUBLIC__/assets/js/html5shiv.js"></script>
	<script src="__PUBLIC__/assets/js/respond.min.js"></script>
	<![endif]-->
</head>
</block>

<block name='main-content'>
<div class="main-content">
	<div id="breadcrumbs" class="breadcrumbs">
		<script type="text/javascript">
			try{ace.settings.check('breadcrumbs' , 'fixed')}catch(e){}
		</script>

		<ul class="breadcrumb">
			<li>
				<i class="icon-home home-icon"></i>
				<a href="__APP__">首页</a>
			</li>

			<li>
				<a href="__APP__/User/add">添加用户</a>
			</li>
		</ul><!-- .breadcrumb -->
	</div>

	<div class="page-content">
		<div class="row">
			<div class="col-xs-12">
				<!-- PAGE CONTENT BEGINS -->

				<form action="" method="post" name='myform' role="form" class="form-horizontal" onsubmit="return doCheck()">
					<div class="form-group">
						<label for="form-field-1" class="col-sm-3 control-label no-padding-right"> 用户名 </label>

						<div class="col-sm-9">
							<input type="text" class="col-xs-10 col-sm-5" name='username' placeholder="账号" id="form-field-1"/>
							<span class="help-inline col-xs-12 col-sm-7">
								<span class="middle">*</span>
							</span>
						</div>
					</div>

					<div class="space-4"></div>

					<div class="form-group">
						<label for="form-field-2" class="col-sm-3 control-label no-padding-right" style='color:red'> 密码 </label>

						<div class="col-sm-9">
							<input type="password" class="col-xs-10 col-sm-5" name='password' placeholder="密码" id="form-field-2">
							<span class="help-inline col-xs-12 col-sm-7">
								<span class="middle">*</span>
							</span>
						</div>
					</div>

					<div class="form-group">
						<label for="form-field-2" class="col-sm-3 control-label no-padding-right" style='color:red'> 确认密码 </label>

						<div class="col-sm-9">
							<input type="password" class="col-xs-10 col-sm-5" name='password2' placeholder="请再次输入密码" id="form-field-2">
							<span class="help-inline col-xs-12 col-sm-7">
								<span class="middle">*</span>
							</span>
						</div>
					</div>

					<div class="form-group">
						<label for="form-field-1" class="col-sm-3 control-label no-padding-right"> 公司(或个人)名称 </label>

						<div class="col-sm-9">
							<input type="text" class="col-xs-10 col-sm-5" name='name' placeholder="名称" id="form-field-1">
							<span class="help-inline col-xs-12 col-sm-7">
								<span class="middle">*</span>
							</span>
						</div>
					</div>

					<div class="form-group">
						<label for="form-field-1" class="col-sm-3 control-label no-padding-right"> 地址 </label>

						<div class="col-sm-9">
							<input type="text" class="col-xs-10 col-sm-5" name='address' placeholder="地址" id="form-field-1">
							<span class="help-inline col-xs-12 col-sm-7">
								<span class="middle">*</span>
							</span>
						</div>
					</div>

					<div class="space-4"></div>

					<div class="form-group">
						<label for="form-field-6" class="col-sm-3 control-label no-padding-right">联系电话</label>

						<div class="col-sm-9">
							<input type="text" name='phone' data-placement="bottom" placeholder="Phone" id="form-field-6" data-rel="tooltip" data-original-title="Hello Tooltip!">
							<span data-content="More details." data-placement="left" data-trigger="hover" data-rel="popover" class="help-button" data-original-title="Popover on hover">?</span>
						</div>
					</div>

					<div class="space-4"></div>

					<div class="form-group">
						<label for="form-field-1" class="col-sm-3 control-label no-padding-right"> 邮箱 </label>

						<div class="col-sm-9">
							<input type="text" class="col-xs-10 col-sm-5" name='email' placeholder="邮箱" id="form-field-1">
							<span class="help-inline col-xs-12 col-sm-7">
								<span class="middle">*</span>
							</span>
						</div>
					</div>
					
					<div class="space-4"></div>

					<div class="form-group">
						<label for="form-field-1" class="col-sm-3 control-label no-padding-right"> 选择添加用户状态 </label>

						<div class="col-sm-9">
							<div class="radio">
								<label>
									<input type="radio" name='state' value='0' class="ace" name="form-field-radio">
									<span class="lbl"> 管理员</span>
								</label>
							</div>
							<div class="radio">
								<label>
									<input type="radio" name='state' value='1' checked class="ace" name="form-field-radio">
									<span class="lbl"> 普通用户</span>
								</label>
							</div>
							<div class="radio">
								<label>
									<input type="radio" name='state' value='2' class="ace" name="form-field-radio">
									<span class="lbl"> 禁用</span>
								</label>
							</div>
						</div>
					</div>

					<div class="clearfix form-actions">
						<div class="col-md-offset-3 col-md-9">
							<button type="submit" class="btn btn-info">
								<i class="icon-ok bigger-110"></i>
								确认
							</button>
							&nbsp; &nbsp; &nbsp;
							<button type="reset" class="btn">
								<i class="icon-undo bigger-110"></i>
								重置
							</button>
						</div>
					</div>
				</form>
			</div><!-- /.col -->
		</div><!-- /.row -->
	</div><!-- /.page-content -->
</div>
<script type="text/javascript">
            //获取所有的input节点并添加事件
            var list = document.getElementsByTagName("input");
            //遍历
            for(var i=0;i<list.length;i++){
                //添加失去焦点事件
                list[i].onblur=function(){
                    switch(this.name){
                        case "username": checkUname(); break;
                        case "password": checkpassword(); break;
                        case "password2": checkpassword2(); break;
                    }
                }
            }
           
            //表单验证函数
            function doCheck(){
                return checkUname() && checkpassword() && checkpassword2();
            }
       
            //验证姓名
            function checkUname(){
                var uname = $("input[name='username']").val();
                if(uname.length<6){
                   $("input[name='username']").next().children().html("账号大于6位") ;
                    return false;
                }
                $("input[name='username']").next().children().html("√") ;
                return true;
            }
            //验证密码
            function checkpassword(){
                var pass = $("input[name='password']").val();
                if(pass.length<6){
                	$("input[name='password']").next().children().html("密码要大于6位！");
                    return false;
                }
                $("input[name='password']").next().children().html("√") ;
                return true;
            }
            //验证第二次输入的密码
            function checkpassword2(){
                var pass = $("input[name='password']").val();
                var pass2 = $("input[name='password2']").val();
                if(pass2.length<6){
                	$("input[name='password2']").next().children().html("确认密码要大于6位！");
                	return false;
                }
                if(pass !== pass2){
            		$("input[name='password2']").next().children().html("两次密码不一致！");
            		$("input[name='password']").next().children().html("两次密码不一致！");
            		return false;
            	}
            	$("input[name='password2']").next().children().html("√") ;
                return true;
            }
        </script>
</block>